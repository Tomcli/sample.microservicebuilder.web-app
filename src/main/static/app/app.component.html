<!--
~ Copyright 2016 Microprofile.io
~
~ Licensed under the Apache License, Version 2.0 (the "License");
~ you may not use this file except in compliance with the License.
~ You may obtain a copy of the License at
~
~ http://www.apache.org/licenses/LICENSE-2.0
~
~ Unless required by applicable law or agreed to in writing, software
~ distributed under the License is distributed on an "AS IS" BASIS,
~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
~ See the License for the specific language governing permissions and
~ limitations under the License.
-->
<style type="text/css">
    #login {
        height: auto;
        position: absolute;
        top: 10px;
        right: 10px;
    }
    #email {
        color: white;
    }
</style>

<div class="col-xs">
    <div *ngIf="loginU==false" id="login">
        <button type="button" style="white-space: normal" class="btn btn-primary" data-toggle="modal" href="#login-modal"> Log in</button>
    </div>
    <div *ngIf="loginU==true" id="login">
        <a *ngIf="firstTime==true" id="email">{{emails.value}}</a>
        <a *ngIf="firstTime==false" id="email">{{email}}</a>
        <button type="button" style="white-space: normal" class="btn btn-primary" (click)="logout()"> LogOut </button>
    </div>
    <div class="row p-a-1 flex-items-xs-center">
        <nav class="nav nav-inline">
            <a routerLink="/speakers" routerLinkActive="active" class="h4 nav-link">Speakers</a>
            <a routerLink="/sessions" class="h4 nav-link">Sessions</a>
            <a routerLink="/schedules" class="h4 nav-link">Schedules</a>
            <a routerLink="/votes" class="h4 nav-link">Votes</a>
        </nav>
    </div>
    <div class="row p-a-1">
        <div class="col-xs">
            <router-outlet></router-outlet>
        </div>
    </div>
</div>

<div id="login-modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Please fill in your email</h4>
      </div>
      <div class="modal-body">
        <form method="post" action='login' name="login_form">
          <p><input #emails type="text" class="form-control" name="username" id="username" placeholder="Email"></p>
          <p><input type="password" class="form-control" name="passwd" placeholder="Password"></p>
          <p>
             <button type="submit" class="btn btn-primary" data-dismiss="modal" (click)="login(emails.value)" >Sign in</button>
             <button type="button" class="btn btn-default" data-dismiss="modal" >Cancel</button>
          </p>
        </form>
      </div>
    </div>

  </div>
</div>
